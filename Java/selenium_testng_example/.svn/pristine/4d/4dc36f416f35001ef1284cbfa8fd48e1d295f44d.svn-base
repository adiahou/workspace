package dxy.vs.testcase.system;

import org.openqa.selenium.support.PageFactory;
import org.testng.annotations.Test;

import dxy.vs.base.ReusableFunctions;
import dxy.vs.base.SetUp;
import dxy.vs.pages.DashboardPage;
import dxy.vs.pages.SimPage;
import dxy.vs.pages.UserManagePage;

public class H06_permissionTest_4Others extends SetUp{

	SimPage simPage;
	ReusableFunctions reusableFunctions;
	UserManagePage userManagePage;
	DashboardPage dashboardPage;
	
//	@Test
	public void setUserPermission_other() throws Exception{
		simPage = PageFactory.initElements(threadDriver.get(), SimPage.class);
		int otherPermissionGroup[]={};
		
		simPage.accessToPermissionConfig();
		simPage.selectDesirePermission(otherPermissionGroup);
	}
	
//	@Test
	public void refreshPermission() throws Exception{
		reusableFunctions = PageFactory.initElements(threadDriver.get(), ReusableFunctions.class);
		userManagePage = PageFactory.initElements(threadDriver.get(), UserManagePage.class);
		
		reusableFunctions.enterVS(p("user3"), p("pw3"));
		userManagePage.openAndRefreshUserPermission();
	}
	
//	@Test
//	(dependsOnMethods = {"setUserPermission_other","refreshPermission"})
	public void verifyPermission_other() throws Exception{
		reusableFunctions = PageFactory.initElements(threadDriver.get(), ReusableFunctions.class);
		dashboardPage = PageFactory.initElements(threadDriver.get(), DashboardPage.class);
		
		reusableFunctions.enterVS(p("user2"), p("pw2"));
		dashboardPage.selectOneSite("简洁模板");
		
	}
}
